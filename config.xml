<?xml version='1.0' encoding='utf-8'?>
<widget id="com.kingdomlifestyleradio.app" version="1.0.0" xmlns="http://www.w3.org/ns/widgets" xmlns:cdv="http://cordova.apache.org/ns/1.0">
    <name>Kingdom Lifestyle Radio</name>
    <description>24/7 Gospel Radio Streaming</description>
    <author email="support@kingdomlifestyleradio.com" href="https://kingdomlifestyleradio.com">
        Kingdom Lifestyle Radio
    </author>
    
    <!-- Update icon paths to point to www/images/ -->
    <icon src="www/images/icon.png" />
    <icon src="www/images/icon@2x.png" width="96" height="96" />
    <icon src="www/images/icon@3x.png" width="144" height="144" />
    
    <!-- Splash screens -->
    <splash src="www/images/splash.png" />
    <splash src="www/images/splash@2x.png" width="640" height="960" />
    <splash src="www/images/splash@3x.png" width="750" height="1334" />
    
    <!-- Android specific -->
    <platform name="android">
        <!-- Icon for Android -->
        <icon src="www/images/icon.png" density="ldpi" />
        <icon src="www/images/icon.png" density="mdpi" />
        <icon src="www/images/icon.png" density="hdpi" />
        <icon src="www/images/icon.png" density="xhdpi" />
        <icon src="www/images/icon.png" density="xxhdpi" />
        <icon src="www/images/icon.png" density="xxxhdpi" />
        
        <!-- Splash screens for Android -->
        <splash src="www/images/splash.png" density="land-ldpi" />
        <splash src="www/images/splash.png" density="land-mdpi" />
        <splash src="www/images/splash.png" density="land-hdpi" />
        <splash src="www/images/splash.png" density="land-xhdpi" />
        <splash src="www/images/splash.png" density="land-xxhdpi" />
        <splash src="www/images/splash.png" density="land-xxxhdpi" />
        <splash src="www/images/splash.png" density="port-ldpi" />
        <splash src="www/images/splash.png" density="port-mdpi" />
        <splash src="www/images/splash.png" density="port-hdpi" />
        <splash src="www/images/splash.png" density="port-xhdpi" />
        <splash src="www/images/splash.png" density="port-xxhdpi" />
        <splash src="www/images/splash.png" density="port-xxxhdpi" />
        
        <edit-config file="app/src/main/AndroidManifest.xml" mode="merge" target="/manifest/application">
            <application android:usesCleartextTraffic="true" />
        </edit-config>
        
        <config-file parent="/*" target="AndroidManifest.xml">
            <uses-permission android:name="android.permission.INTERNET" />
            <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
            <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
            <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
            <uses-permission android:name="android.permission.WAKE_LOCK" />
        </config-file>
    </platform>
    
    <!-- iOS specific -->
    <platform name="ios">
        <config-file parent="UIBackgroundModes" target="*-Info.plist">
            <array>
                <string>audio</string>
            </array>
        </config-file>
    </platform>
    
    <!-- Preferences -->
    <preference name="AndroidLaunchMode" value="singleTask" />
    <preference name="DisallowOverscroll" value="true" />
    <preference name="BackgroundColor" value="0xff1a235c" />
    <preference name="Orientation" value="portrait" />
    <preference name="AutoHideSplashScreen" value="true" />
    <preference name="SplashScreenDelay" value="3000" />
    <preference name="FadeSplashScreenDuration" value="300" />
    <preference name="android-targetSdkVersion" value="33" />
    <preference name="android-minSdkVersion" value="22" />
    
    <!-- Allow all external URLs -->
    <allow-navigation href="*" />
    <allow-intent href="http://*/*" />
    <allow-intent href="https://*/*" />
    
    <!-- Plugins -->
    <plugin name="cordova-plugin-whitelist" spec="1.3.4" />
    <plugin name="cordova-plugin-statusbar" spec="2.4.3" />
    <plugin name="cordova-plugin-splashscreen" spec="6.0.0" />
    <plugin name="cordova-plugin-insomnia" spec="4.3.0" />
    <plugin name="cordova-plugin-media" spec="5.0.3" />
    
</widget>
